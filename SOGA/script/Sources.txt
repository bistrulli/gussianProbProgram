eps = norm;

/* assign sources */
if eps < 0
{
	s1s1 = 1;
}
else
{
	s1s1 = 0;
}
end if;
merge;

eps = norm;
if eps < 1.28155
{
	s2s1 = 1;
}
else
{
	s2s1 = 0;
}
end if;
merge;

/* enforces constraint about different sources */
if s2s1 == 1
{
      if s1s1 == 1
	{
      	constr = 0;
	}
      else
	{
      	constr = 1;
	}
      end if;
}
else
{
	constr = 1;
}
end if;
merge;
  
/* assigns distributions of distances */
if s1s1 == 1
{
	d11 = norm;
      d12 = norm + 1;
}
else
{
	d11 = norm + 1;
      d12 = norm;
}
end if;
merge;

if s2s1 == 1
{
	d21 = norm;
      d22 = norm + 1;
}
else
{
	d21 = norm + 1;
	d22 = norm;
}
end if;
merge;

/* depending on distances constraints to observations */
if d11 > 0.25
{
	if d11 < 0.75
	{
      	ev1 = 1;
	}
	else
	{
      	ev1 = 0;
	}
	end if;
}
else
{
	ev1 = 0;
}
end if;
merge;

if d12 > 1.25
{
      if d12 < 1.75
	{
      	ev2 = 1;
	}
	else
	{
		ev2 = 0;
	}
	end if;
}
else
{
	ev2 = 0;
}
end if;
merge;

if d21 > 1.25
{
	if d21 < 1.75
	{
      	ev3 = 1;
	}
	else
	{
		ev3 = 0;
	}
	end if;
}
else
{
	ev3 = 0;
}
end if;
merge;

if d22 > 0.25
{
	if d22 < 0.75
	{
		ev4 = 1;
	}
	else
	{
		ev4 = 0;
	}
	end if;
}
else
{
	ev4 = 0;
}
end if;
merge;

cond = constr*ev1*ev2*ev3*ev4;
joint = s1s1*cond;
 